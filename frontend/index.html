<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Asteroid Impact Simulator</title>
    <link rel="stylesheet" href="./index.css">
</head>
<body>
    <!-- Loading Screen -->
    <!-- <div id="loading">
        <div class="spinner"></div>
        <p style="margin-top: 20px; color: #4facfe;">Loading Ultimate Asteroid Simulator...</p>
    </div> -->

    <div id="landing-page">
        <div class="asteroid-bg"></div>
        <div class="transition-overlay" id="transition-overlay"></div>
        <h1 class="title" id="main-title">ASTEROIDS</h1>
        <p class="subtitle" id="main-subtitle">BE LIKE</p>
        <div class="enter-text" id="enter-simulation">
            <span style="font-size: 1.4rem;">LAUNCH SIMULATION</span>
        </div>
        <div class="enter-text" id="enter-visualization">
            <span style="font-size: 1.4rem;">LAUNCH VISUALIZATION</span>
        </div>
        <a href="./learning.html" class="enter-text" id="enter-learning">
            <span style="font-size: 1.4rem;">LAUNCH LEARNING</span>
        </a>
    </div>

    <div id="simulation-container">
        <canvas id="simulation-canvas"></canvas>
        
        <!-- Zoom Controls -->
        <div id="zoom-controls">
            <div class="zoom-btn" id="zoom-in" title="Zoom In">+</div>
            <div class="zoom-btn" id="zoom-out" title="Zoom Out">-</div>
        </div>
        
        <!-- Full Screen Button -->
        <div id="fullscreen-btn" title="Toggle Fullscreen">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#4facfe" stroke-width="2">
                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
            </svg>
        </div>
        
        <!-- Minimalistic UI Icons -->
        <div id="ui-icons">
            <div class="ui-icon" id="asteroids-icon" data-tooltip="Select Asteroid">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#4facfe" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <circle cx="12" cy="12" r="4"></circle>
                    <line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line>
                    <line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line>
                    <line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line>
                    <line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line>
                    <line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>
                </svg>
            </div>
            
            <div class="ui-icon" id="controls-icon" data-tooltip="Simulation Controls">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#4facfe" stroke-width="2">
                    <rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect>
                    <rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect>
                    <line x1="6" y1="6" x2="18" y2="6"></line>
                    <line x1="6" y1="18" x2="18" y2="18"></line>
                </svg>
            </div>
            
            <div class="ui-icon" id="learn-icon" data-tooltip="Interactive Learning">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#4facfe" stroke-width="2">
                    <path d="M12 20h9"></path>
                    <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                </svg>
            </div>
            
            <div class="ui-icon" id="info-icon" data-tooltip="Simulation Info">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#4facfe" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12" y2="8"></line>
                </svg>
            </div>
        </div>
        
        <!-- Minimalistic Asteroid Selection Panel -->
        <div id="asteroids-panel" class="minimal-panel">
            <button class="panel-close" id="close-asteroids-panel">√ó</button>
            <h3 class="panel-title">üåç Near-Earth Objects</h3>
            <div id="asteroid-list" class="asteroid-list">
                <!-- Asteroids will be loaded here -->
            </div>
            <div style="font-size: 0.8rem; color: #a0a0c0; text-align: center;">
                üî≠ Data source: <span id="data-source">NASA NEO API</span>
            </div>
        </div>
        
        <!-- Minimalistic Controls Panel -->
        <div id="controls-panel" class="minimal-panel">
            <button class="panel-close" id="close-controls-panel">√ó</button>
            <h3 class="panel-title" id="asteroid-panel-title">‚òÑÔ∏è Asteroid Controls</h3>
            
            <div class="control-group">
                <label class="control-label">üí• Diameter: <span class="value-display" id="diameter-value">1.0 km</span></label>
                <div class="slider-container">
                    <input type="range" min="0.01" max="50" step="0.01" value="1.0" class="slider" id="diameter-slider">
                </div>
            </div>
            
            <div class="control-group">
                <label class="control-label">‚ö° Velocity: <span class="value-display" id="velocity-value">20 km/s</span></label>
                <div class="slider-container">
                    <input type="range" min="5" max="100" step="0.1" value="20" class="slider" id="velocity-slider">
                </div>
            </div>
            
            <div class="control-group">
                <label class="control-label">üéØ Approach Angle: <span class="value-display" id="angle-value">45¬∞</span></label>
                <div class="slider-container">
                    <input type="range" min="1" max="89" step="1" value="45" class="slider" id="angle-slider">
                </div>
            </div>
            
            <button class="simulate-btn" id="simulate-btn">
                <span style="font-size: 1.2rem;">üí•</span> EXECUTE SIMULATION
            </button>
            
            <div id="impact-result" class="impact-result">
                <div class="impact-title" id="impact-title">IMPACT SIMULATION RESULTS</div>
                <div class="impact-details" id="impact-details">
                    <!-- Results will be displayed here -->
                </div>
                
                <!-- Analysis Buttons -->
                <div class="analysis-buttons">
                    <button class="analysis-btn detail-btn" id="detail-analysis-btn">Detailed Impact Analysis</button>
                    <button class="analysis-btn mitigation-btn" id="mitigation-btn">Mitigation & Recovery Plan</button>
                </div>
            </div>
        </div>
        
        <!-- Interactive Learning Panel -->
        <div id="learning-panel" class="minimal-panel">
            <button class="panel-close" id="close-learning-panel">√ó</button>
            <h3 class="panel-title">üìö Interactive Learning</h3>
            
            <div class="learning-content">
                <div class="learning-step active" id="step-1">
                    <div class="learning-title">Welcome to Asteroid Academy!</div>
                    <div class="learning-text">
                        In this interactive learning experience, you'll discover fascinating facts about asteroids and how our simulation calculates impact scenarios.
                    </div>
                    <div class="learning-highlight">
                        <strong>Did you know?</strong> Asteroids are rocky objects that orbit the Sun, mostly found in the asteroid belt between Mars and Jupiter.
                    </div>
                    <div class="learning-buttons">
                        <div></div> <!-- Empty div for spacing -->
                        <button class="learning-btn primary" onclick="learningManager.nextStep()">Start Learning</button>
                    </div>
                </div>
                
                <div class="learning-step" id="step-2">
                    <div class="learning-title">What Are Asteroids?</div>
                    <div class="learning-text">
                        Asteroids are remnants from the early formation of our solar system about 4.6 billion years ago. They vary in size from tiny pebbles to objects hundreds of kilometers across.
                    </div>
                    
                    <!-- Interactive asteroid size comparison -->
                    <div class="interactive-demo" id="size-demo">
                        <div class="demo-earth"></div>
                        <div class="demo-asteroid" id="small-asteroid" style="top: 30%; left: 20%; width: 5px; height: 5px;"></div>
                        <div class="demo-asteroid" id="medium-asteroid" style="top: 50%; left: 40%; width: 10px; height: 10px;"></div>
                        <div class="demo-asteroid" id="large-asteroid" style="top: 70%; left: 60%; width: 20px; height: 20px;"></div>
                        <div class="demo-asteroid" id="huge-asteroid" style="top: 40%; left: 80%; width: 30px; height: 30px;"></div>
                    </div>
                    
                    <div class="learning-text">
                        The largest asteroid, Ceres, is about 940 km in diameter and is also classified as a dwarf planet.
                    </div>
                    
                    <div class="learning-buttons">
                        <button class="learning-btn" onclick="learningManager.previousStep()">Back</button>
                        <button class="learning-btn primary" onclick="learningManager.nextStep()">Next</button>
                    </div>
                </div>
                
                <div class="learning-step" id="step-3">
                    <div class="learning-title">Asteroid Trajectories</div>
                    <div class="learning-text">
                        An asteroid's path through space is determined by gravity and its initial velocity. The angle of approach dramatically affects whether it impacts Earth or safely passes by.
                    </div>
                    
                    <!-- Interactive trajectory demo -->
                    <div class="interactive-demo" id="trajectory-demo">
                        <div class="demo-earth"></div>
                        <div class="demo-asteroid" id="trajectory-asteroid"></div>
                        <div class="demo-trajectory" id="trajectory-path"></div>
                        <div class="impact-zone" id="impact-zone" style="width: 160px; height: 160px; top: 50%; left: 50%;"></div>
                    </div>
                    
                    <div class="demo-controls">
                        <div style="width: 100%;">
                            <div class="demo-value">Approach Angle: <span id="angle-value-demo">45¬∞</span></div>
                            <input type="range" min="1" max="89" value="45" class="demo-slider" id="angle-slider-demo">
                            <button class="demo-button" onclick="learningManager.testTrajectory()">Test Trajectory</button>
                        </div>
                    </div>
                    
                    <div class="learning-text">
                        Steeper angles (closer to 90¬∞) increase the likelihood of impact, while shallow angles often result in a near miss.
                    </div>
                    
                    <div class="learning-buttons">
                        <button class="learning-btn" onclick="learningManager.previousStep()">Back</button>
                        <button class="learning-btn primary" onclick="learningManager.nextStep()">Next</button>
                    </div>
                </div>
                
                <div class="learning-step" id="step-4">
                    <div class="learning-title">Impact Physics</div>
                    <div class="learning-text">
                        When an asteroid impacts Earth, the energy released depends on its mass and velocity. The kinetic energy is calculated using the formula:
                    </div>
                    <div class="learning-highlight">
                        <strong>E = ¬Ω √ó m √ó v¬≤</strong><br>
                        Where E is energy, m is mass, and v is velocity.
                    </div>
                    
                    <!-- Interactive energy calculation -->
                    <div class="interactive-demo" id="energy-demo">
                        <div class="demo-earth"></div>
                        <div class="demo-asteroid" id="energy-asteroid"></div>
                        <div class="velocity-indicator" id="velocity-indicator"></div>
                        <div class="blast-wave" id="blast-wave"></div>
                    </div>
                    
                    <div class="demo-controls">
                        <div style="width: 48%;">
                            <div class="demo-value">Diameter: <span id="diameter-value-demo">1.0 km</span></div>
                            <input type="range" min="0.1" max="10" step="0.1" value="1.0" class="demo-slider" id="diameter-slider-demo">
                        </div>
                        <div style="width: 48%;">
                            <div class="demo-value">Velocity: <span id="velocity-value-demo">20 km/s</span></div>
                            <input type="range" min="5" max="50" step="1" value="20" class="demo-slider" id="velocity-slider-demo">
                        </div>
                    </div>
                    
                    <div class="learning-highlight" id="energy-display">
                        <strong>Impact Energy:</strong> <span id="energy-value">0</span> megatons of TNT
                    </div>
                    
                    <div class="learning-text">
                        This energy is what causes the devastating effects of an impact, from crater formation to global climate changes.
                    </div>
                    
                    <div class="learning-buttons">
                        <button class="learning-btn" onclick="learningManager.previousStep()">Back</button>
                        <button class="learning-btn primary" onclick="learningManager.nextStep()">Next</button>
                    </div>
                </div>
                
                <div class="learning-step" id="step-5">
                    <div class="learning-title">Test Your Knowledge</div>
                    <div class="learning-text">
                        Let's see how much you've learned about asteroid impacts with this quick quiz.
                    </div>
                    
                    <!-- Interactive quiz -->
                    <div class="quiz-question" id="quiz-container">
                        <div class="learning-text" id="quiz-question">Which factor has the greatest influence on an asteroid's impact energy?</div>
                        <div class="quiz-options" id="quiz-options">
                            <div class="quiz-option" onclick="learningManager.checkAnswer(0, this)">Asteroid diameter</div>
                            <div class="quiz-option" onclick="learningManager.checkAnswer(1, this)">Impact velocity</div>
                            <div class="quiz-option" onclick="learningManager.checkAnswer(2, this)">Approach angle</div>
                            <div class="quiz-option" onclick="learningManager.checkAnswer(3, this)">Asteroid composition</div>
                        </div>
                        <div class="quiz-feedback" id="quiz-feedback">
                            <!-- Feedback will be inserted here -->
                        </div>
                    </div>
                    
                    <div class="learning-buttons">
                        <button class="learning-btn" onclick="learningManager.previousStep()">Back</button>
                        <button class="learning-btn primary" onclick="learningManager.nextStep()">Next Question</button>
                    </div>
                </div>
                
                <div class="learning-step" id="step-6">
                    <div class="learning-title">Impact Challenge</div>
                    <div class="learning-text">
                        Now it's time for a challenge! Try to create an impact scenario with specific parameters.
                    </div>
                    
                    <!-- Interactive challenge -->
                    <div class="challenge-container">
                        <div class="challenge-title">üåç Regional Impact Challenge</div>
                        <div class="challenge-objective">
                            Create an asteroid impact that causes regional devastation without being extinction-level.
                        </div>
                        
                        <div class="challenge-parameters">
                            <div class="parameter-item">
                                <div class="parameter-label">Target Diameter</div>
                                <div class="parameter-value">1.0 - 2.5 km</div>
                            </div>
                            <div class="parameter-item">
                                <div class="parameter-label">Target Velocity</div>
                                <div class="parameter-value">15 - 25 km/s</div>
                            </div>
                            <div class="parameter-item">
                                <div class="parameter-label">Target Energy</div>
                                <div class="parameter-value">50,000 - 200,000 MT</div>
                            </div>
                            <div class="parameter-item">
                                <div class="parameter-label">Impact Location</div>
                                <div class="parameter-value">Ocean (to minimize casualties)</div>
                            </div>
                        </div>
                        
                        <div class="demo-controls">
                            <div style="width: 48%;">
                                <div class="demo-value">Your Diameter: <span id="challenge-diameter">1.0 km</span></div>
                                <input type="range" min="0.1" max="5" step="0.1" value="1.0" class="demo-slider" id="challenge-diameter-slider">
                            </div>
                            <div style="width: 48%;">
                                <div class="demo-value">Your Velocity: <span id="challenge-velocity">20 km/s</span></div>
                                <input type="range" min="5" max="40" step="1" value="20" class="demo-slider" id="challenge-velocity-slider">
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin-top: 10px;">
                            <button class="demo-button" onclick="learningManager.runChallenge()">Test Your Impact</button>
                        </div>
                        
                        <div class="challenge-result" id="challenge-result">
                            <!-- Challenge result will be inserted here -->
                        </div>
                    </div>
                    
                    <div class="learning-buttons">
                        <button class="learning-btn" onclick="learningManager.previousStep()">Back</button>
                        <button class="learning-btn primary" onclick="learningManager.nextStep()">Next</button>
                    </div>
                </div>
                
                <div class="learning-step" id="step-7">
                    <div class="learning-title">Try It Yourself!</div>
                    <div class="learning-text">
                        Now that you understand the basics, try experimenting with different asteroid parameters in the main simulation to see how they affect the impact scenario.
                    </div>
                    <div class="learning-highlight">
                        <strong>Remember:</strong> This is just a simulation. In reality, NASA and other space agencies are working on planetary defense strategies to protect Earth.
                    </div>
                    <div class="learning-buttons">
                        <button class="learning-btn" onclick="learningManager.previousStep()">Back</button>
                        <button class="learning-btn primary" onclick="learningManager.completeTutorial()">Complete Tutorial</button>
                    </div>
                </div>
            </div>
            
            <div class="learning-progress" id="learning-progress">
                <!-- Progress dots will be generated by JavaScript -->
            </div>
        </div>
        
        <!-- Status Message -->
        <div class="status-message" id="status-message">üü¢ System Ready - Advanced Physics Engine Active</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/libs/stats.min.js"></script>
    
    <script src="./js/index.js"></script>
</body>
</html>